# 问题
* JMM中指出了，JVM在处理该强制实施的时候可以提供一些内存的可见规则，在该规则里面，它确保当存在一个同步块时，缓存被更新，当输入一个同步块时，缓存失效。
# JVM
## JMM (Java Memory Mode)
### 简介
1. JSR133目标
	1. 保留目前的JVM的安全保证，以进行类型的安全检查
	2. 提供（out-of-thin-air safety）无中生有的安全性，这样“正确同步的”应该被正式而且直观地定义
	3. 减轻程序员理解内存模型中的一些细节负担
	4. 提供大范围的流行硬件体系结构上的高性能JVM的实现
	5. 提供一个同步的习惯用法，以允许发布一个对象使他不用同步就可见，这种情况又称为初始化安全（initialization safety)的新的安全保证
	6. 对现有代码影响小
2. 同步、异步
	1. 一般情况下，在描述同步和异步操作时，主要是指需要其他部件协作处理或者需要协作响应的一些任务处理。
	1. 同步：同步就是在发出一个功能调用的时候，在未得到响应之前，该调用就不返回，一直处于等待状态。
	2. 异步：异步就是在发出一个功能调用的时候，不需要等待响应，继续进行它该做的事情，一旦得到响应了，过后给予一定处理，但是不影响正常的处理过程的一种方式。
3.可见性、可排序性
	1. 内存不可见：synchronized关键字实施一个线程之间的互斥锁，该互斥锁防止每次有多个线程进入一个给定监控器所保护的同步语句块，也就是该情况下，执行程序代码所独有的某些内存是独占模式，其他的线程是不能针对它执行过程所独占的内存进行访问。
	2. 内存可见性：内存的可见性使内存资源可以共享，当一个线程执行的时候它所占有的内存，如果它占有的内存资源是可见的，那么这时候其他线程在一定规则内是可以访问该内存资源的 这种规则由JMM内部定义的。
	3. 可排序性：比如有一个内存块，A和B需要访问的时候，JMM会提供一定的内存分配策略有序地分配它们使用内容的内存，而在内存的调用过程也会变得有序进行，内存的折中性可以简单理解为有序性。JMM 通过Java关键字 volatile 来保证内存的有序访问。
### 结构
1. JVM中存在一个主存区（Main Memory或Java Heap Memory），java中所有变量都是存在主存中，对于所有线程进行共享。而每个线程又存在自己的工作区（Working Memory)，工作内存中保存的是主存中某些变量的拷贝，线程对所有变量的操作并非发生在主存区，而是发生在工作内存中，而线程之间是不能直接互相访问，变量在程序中的传递，是依赖主存来完成的。
2. 三个特性解析
	1. 原子性（Atomicity）